<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>树洞</title>
    <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="index.css?1=1" rel="stylesheet">
    <script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"></script>
    <script src="service.js"></script>
    <style>
        @font-face {
            font-family: 'iconfont';  /* project id 830421 */
            src: url('//at.alicdn.com/t/font_830421_j8ju6nuyad.eot');
            src: url('//at.alicdn.com/t/font_830421_j8ju6nuyad.eot?#iefix') format('embedded-opentype'),
            url('//at.alicdn.com/t/font_830421_j8ju6nuyad.woff') format('woff'),
            url('//at.alicdn.com/t/font_830421_j8ju6nuyad.ttf') format('truetype'),
            url('//at.alicdn.com/t/font_830421_j8ju6nuyad.svg#iconfont') format('svg');
        }
    </style>
    <script>
        window.onload = function(){
            var app = new Vue({
                el: '#app',
                data: {
                    article: [],
                    category:[],
                    isShowList: true,
                    isShowContent: false,
                    content: ''
                },
                mounted:function(){
                    var that = this;
                    axios.get(server,{
                        params:{
                            page:page
                        }
                    })
                        .then(function(response){
                            that.article = response.data.data
                            console.log(response.data.data);
                        })
                        .catch(function(err){
                            console.log(err);
                        });
                },
                methods:{
                    init:function(){
                        var that = this;
                        axios.get(server,{
                            params:{
                                page:page
                            }
                        })
                            .then(function(response){
                                that.article = response.data.data.list;
                                that.category = response.data.data.category;
                            })
                            .catch(function(err){
                                console.log(err);
                            });
                    },
                    brew:function () {
                        this.isShowList = false;
                        this.isShowContent = true;
                    }
                }
            });
        }
    </script>
</head>
<body>
<div id="app">
    <div class="container">
        <div class="container-fluid" id="main">
            <div class="row">
                <div class="col block article-list" v-show="isShowList">
                    <div class="row article-item" v-for="v in article['list']">
                        <div class="col col-lg-7">
                            <a href="javascript:;" v-on:click="brew()" class="article-name">{{ v.title }}</a>
                            <div class="article-statistics"> • {{ v.follow_num }} 人觉得很赞 • {{ v.reply_num }} 个回复 • {{v.pv}} 次浏览 • 13 小时前 </div>
                        </div>
                        <div class="col col-lg-3">
                            <div>
                                <span class="badge badge-secondary">Golang</span>
                                <span class="badge badge-warning"></span>
                                <span class="badge badge-info">MySQL</span>
                                <span class="badge badge-success">运维</span>
                                <span class="badge badge-primary">Gin</span>
                            </div>
                        </div>
                        <div class="col col-lg-2">
                            <img class="contribution-avatar" src="http://cdnlab.hzhui.com/image/2017/08/01/aHR0cDovL3d4LnFsb2dv18429.jpg">
                            <img class="contribution-avatar" src="http://cdnlab.hzhui.com/image/2017/08/01/aHR0cDovL3d4LnFsb2dv18429.jpg">
                            <img class="contribution-avatar" src="http://cdnlab.hzhui.com/image/2017/08/01/aHR0cDovL3d4LnFsb2dv18429.jpg">
                            <img class="contribution-avatar" src="http://cdnlab.hzhui.com/image/2017/08/01/aHR0cDovL3d4LnFsb2dv18429.jpg">
                        </div>
                    </div>

                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-end">
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1">上一页</a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#">下一页</a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <div class="col block article-content" v-show="isShowContent">
                </div>

                <div class="col col-lg-3">
                    <div class="row block right-block">
                        <div class="statistics">
                            当前
                        </div>
                        <div class="statistics-item"><a href="" class="statistics-register">会员</a>&nbsp;&nbsp;<strong>350373</strong></div>
                        <div class="statistics-item"><a href="" class="statistics-thread">主题</a>&nbsp;&nbsp;<strong>490482</strong></div>
                        <div class="statistics-item"><a href="" class="statistics-reply">回复</a>&nbsp;&nbsp;<strong>6189763</strong></div>
                    </div>
                    <div class="row block right-block">
                        <div class="hot">
                            热门
                        </div>
                        <div class="hot-item" v-for="v in article['category']">
                            <div style="width: 40px;float: left">
                                <a href="" ><img class="hot-avatar" src="http://cdnlab.hzhui.com/image/2017/08/17/aHR0cDovL3d4LnFsb2dv11911.jpg"></a>
                            </div>
                            <div class="hot-title">
                                <a href="" >回顾一下自己北漂回西安来这半年情况</a>
                            </div>
                        </div>
                    </div>
                    <div class="row block right-block">
                        广告预留
                    </div>
                    <div class="row block right-block">
                        <div class="article-category" v-for="v in article['category']">
                            <a href="" class="article-category-name">{{ v.name }}</a>
                            <div class="article-category-info">{{ v.num }} 个文章, {{ v.like_num }} 次赞同</div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>